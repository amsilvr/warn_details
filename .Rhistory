, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, title = ~paste0("Number of ",alertType," WEAs")
, position = "bottomleft")
p
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong>"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, title = ~paste0("Number of ",alertType," WEAs")
, position = "bottomleft")
p
pal <- colorBin("RdPu", domain = NULL, bins = bins, pretty = TRUE)
p
pal <- colorBin("RdPu", domain = NULL, bins = bins, pretty = TRUE)
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong>"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
addPopups(data = long_county
, group = ~alertType
#, layerID = ~paste(GEOID, alertType)
, popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, title = ~paste0("Number of ",alertType," WEAs")
, position = "bottomleft")
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong>"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
addPopups(data = long_county
, group = ~alertType
#, layerID = ~paste(GEOID, alertType)
, popup = ~paste(GEOID, alertType, value)) %>%
# addLayersControl(baseGroups = c("Total"
#                                , "AMBER"
#                                , "FlashFlood"
#                                , "Hurricane"
#                                , "Tornado"
#                                , "Other")
#      , options = layersControlOptions(autoZIndex = FALSE
#                                   , collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
, group = alertType
, title = ~paste0("Number of ",alertType," WEAs")
, position = "bottomleft")
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong>"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
, group = alertType
, title = ~paste0("Number of ",alertType," WEAs")
, position = "bottomleft")
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong>"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, group = alertType
, title = paste0("Number of "," WEAs")
, position = "bottomleft")
p
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong><br />"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, group = alertType
, title = paste0("Number of "," WEAs")
, position = "bottomleft")
p <- leaflet() %>%
addTiles(attribution = "Historical WEA data from PBS-WARN") %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong><br />"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, group = alertType
, title = paste0("Number of "," WEAs")
, position = "bottomleft")
p
packrat::set_opts(vcs.ignore.src = TRUE)
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong><br />"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE))  %>%
addControl("This is the Control", position = "bottomleft")
p
source('C:/Users/amsilverman/Box Sync/@Project Support/Data_Science/warn_details/leaflet.R')
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong><br />"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE
, position = "topleft"))  %>%
addControl("docs/New Logo.png'>", position = "bottomleft") %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, group = alertType
, title = paste0("Number of "," WEAs")
, position = "topleft")
p
, position = "topleft"))  %>%
addControl("<img src = 'docs/New Logo.png'>", position = "bottomleft") %>%
addLegend(pal = pal
, position = "topleft"))  %>%
addControl("<img src = 'docs/New Logo.png'>", position = "bottomleft") %>%
addLegend(pal = pal
p <- leaflet() %>%
addTiles() %>%
#addProviderTiles(providers$Stamen.TonerLite, group = "Toner by Stamen") %>%
setView(lng = -93.85, lat = 37.45, zoom = 4) %>%
addPolygons(
data = long_county
, group = ~alertType
, layerId = ~paste(GEOID, alertType)
, stroke = FALSE
, label = ~paste0("<strong>"
,name
,":</strong><br />"
, value, " "
, alertType, " Alerts") %>%
lapply(htmltools::HTML)
, labelOptions = labelOptions(style = list(
"color" = "#2b3e50",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"text-align" = "left",
"font-size" = "17px",
"border-color" = "rgba(0,0,0,0.5)"))
, fillOpacity = .5
, smoothFactor = .5
, fillColor = ~pal(value)
, highlight = highlightOptions(
weight = 5,
color = "#666",
dashArray = "",
fillOpacity = 1,
bringToFront = FALSE)) %>%
# addPopups(data = long_county
#           , group = ~alertType
#           #, layerID = ~paste(GEOID, alertType)
#           , popup = ~paste(GEOID, alertType, value)) %>%
addLayersControl(baseGroups = c("Total"
, "AMBER"
, "FlashFlood"
, "Hurricane"
, "Tornado"
, "Other")
, options = layersControlOptions(autoZIndex = FALSE
, collapse = FALSE
, position = "topleft"))  %>%
addControl("<img src = 'docs/New Logo.png'>", position = "bottomleft") %>%
addLegend(pal = pal
, values = bins
, opacity = .5
#, group = alertType
, title = paste0("Number of "," WEAs")
, position = "topleft")
p
library(leaflet)
source('C:/Users/amsilverman/Box Sync/@Project Support/Data_Science/warn_details/leaflet.R', encoding = 'UTF-8')
source('C:/Users/amsilverman/Box Sync/@Project Support/Data_Science/warn_details/leaflet.R')
p
?addTiles
?tileOptions
getOption("viewer")
exit
source('C:/Users/amsilverman/Box Sync/@Project Support/Data_Science/warn_details/leaflet.R', encoding = 'UTF-8')
source('C:/Users/amsilverman/Box Sync/@Project Support/Data_Science/warn_details/leaflet.R')
p
